Comment...
 h1: test_transfer_Fungible_
Comment...
 h2: Accounts
Computing sp.list([sp.test_account("Administrator"), sp.test_account("Alice"), sp.test_account("Bob")])...
 => [sp.record(seed = 'Administrator', address = sp.address('tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w'), public_key = sp.key('edpktzrjdb1tx6dQecQGZL6CwhujWg1D2CXfXWBriqtJSA6kvqMwA2'), public_key_hash = sp.key_hash('tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w'), secret_key = sp.secret_key('edsk3SUiUcR33jiBmxRDke8MKfd18dxmq2fUbZWZFYoiEsTkpAz5F7')), sp.record(seed = 'Alice', address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), public_key = sp.key('edpkuvNy6TuQ2z8o9wnoaTtTXkzQk7nhegCHfxBc4ecsd4qG71KYNG'), public_key_hash = sp.key_hash('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), secret_key = sp.secret_key('edsk34XphRR5Rs6EeAGrxktxAhstbwPr5YZ4m7RMzjaed3n9g5JcBB')), sp.record(seed = 'Bob', address = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), public_key = sp.key('edpkufVmvzkm4oFQ7WcF5NJbq9BFB2mWRsm4Dyh2spMDuDxWSQWHuT'), public_key_hash = sp.key_hash('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), secret_key = sp.secret_key('edsk3Rg6sSnow8KiHdHbWBZVF4Xui8ucyxmujHeA35HaAgvwKuXWio'))]
Comment...
 h2: Contract
Creating contract KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1
 -> (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) 42; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 1) 42; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2) 42} (Pair {Elt "" 0x68747470733a2f2f6578616d706c652e636f6d} (Pair 3 (Pair {} (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})}))))))
file test_transfer_Fungible_/step_005_cont_0_storage.tz
file test_transfer_Fungible_/step_005_cont_0_storage.json
file test_transfer_Fungible_/step_005_cont_0_storage.py
file test_transfer_Fungible_/step_005_cont_0_types.py
file test_transfer_Fungible_/step_005_cont_0_contract.tz contract Fa2FungibleMinimalTest
file test_transfer_Fungible_/step_005_cont_0_contract.json contract Fa2FungibleMinimalTest
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 0)) == 42...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 1)) == 42...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 2)) == 42...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 0)) == 0...
 OK
Comment...
 h2: Zero amount transfer
Comment...
 p: TZIP-12: Transfers of zero amount MUST be treated as normal transfers.
file test_transfer_Fungible_/step_012_cont_0_params.py
file test_transfer_Fungible_/step_012_cont_0_params.tz
file test_transfer_Fungible_/step_012_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), txs = [sp.record(to_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), token_id = 0, amount = 0)])])...
 -> (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {Elt (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 0) 0; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) 42; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 1) 42; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2) 42} (Pair {Elt "" 0x68747470733a2f2f6578616d706c652e636f6d} (Pair 3 (Pair {} (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})}))))))
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 0)) == 42...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 0)) == 0...
 OK
file test_transfer_Fungible_/step_015_cont_0_params.py
file test_transfer_Fungible_/step_015_cont_0_params.tz
file test_transfer_Fungible_/step_015_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), txs = [sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 0, amount = 0)])])...
 -> (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {Elt (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 0) 0; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) 42; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 1) 42; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2) 42} (Pair {Elt "" 0x68747470733a2f2f6578616d706c652e636f6d} (Pair 3 (Pair {} (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})}))))))
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 0)) == 42...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 0)) == 0...
 OK
Comment...
 h2: Transfers Alice -> Bob
Comment...
 p: TZIP-12: Each transfer in the batch MUST decrement token balance
                of the source (from_) address by the amount of the transfer and
                increment token balance of the destination (to_) address by the
                amount of the transfer.
file test_transfer_Fungible_/step_020_cont_0_params.py
file test_transfer_Fungible_/step_020_cont_0_params.tz
file test_transfer_Fungible_/step_020_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), txs = [sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 0, amount = 12), sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 1, amount = 12)]), sp.record(from_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), txs = [sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 2, amount = 12)])])...
 -> (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {Elt (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 0) 12; Elt (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 1) 12; Elt (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 2) 12; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) 30; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 1) 30; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2) 30} (Pair {Elt "" 0x68747470733a2f2f6578616d706c652e636f6d} (Pair 3 (Pair {} (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})}))))))
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 0)) == 30...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 0)) == 12...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 1)) == 30...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 1)) == 12...
 OK
Verifying sp.contract_data(0).ledger[(sp.test_account("Alice").address, 0)] == 30...
 OK
Verifying sp.contract_data(0).ledger[(sp.test_account("Bob").address, 0)] == 12...
 OK
Comment...
 h2: Insufficient balance
Comment...
 p: TIP-12: If the transfer amount exceeds current token balance of
                the source address, the whole transfer operation MUST fail with
                the error mnemonic "FA2_INSUFFICIENT_BALANCE".
file test_transfer_Fungible_/step_030_cont_0_params.py
file test_transfer_Fungible_/step_030_cont_0_params.tz
file test_transfer_Fungible_/step_030_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), txs = [sp.record(to_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), token_id = 0, amount = 13), sp.record(to_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), token_id = 0, amount = 0)]), sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), txs = [sp.record(to_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), token_id = 0, amount = 0)])])...
Expected error: 'FA2_INSUFFICIENT_BALANCE'
Comment...
 h2: Same address transfer
Comment...
 p: TZIP-12: Transfers with the same address (from_ equals to_) MUST
                be treated as normal transfers.
file test_transfer_Fungible_/step_033_cont_0_params.py
file test_transfer_Fungible_/step_033_cont_0_params.tz
file test_transfer_Fungible_/step_033_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), txs = [sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 0, amount = 12)])])...
 -> (Pair "tz1hdQscorfqMzFqYxnrApuS5i6QSTuoAp3w" (Pair {Elt (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 0) 12; Elt (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 1) 12; Elt (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 2) 12; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) 30; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 1) 30; Elt (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 2) 30} (Pair {Elt "" 0x68747470733a2f2f6578616d706c652e636f6d} (Pair 3 (Pair {} (Pair {} {Elt 0 (Pair 0 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e205a65726f; Elt "symbol" 0x546f6b30}); Elt 1 (Pair 1 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e204f6e65; Elt "symbol" 0x546f6b31}); Elt 2 (Pair 2 {Elt "decimals" 0x31; Elt "name" 0x546f6b656e2054776f; Elt "symbol" 0x546f6b32})}))))))
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 0)) == 30...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 0)) == 12...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Alice").address, token_id = 1)) == 30...
 OK
Verifying sp.static_view(0, "get_balance", sp.record(owner = sp.test_account("Bob").address, token_id = 1)) == 12...
 OK
file test_transfer_Fungible_/step_038_cont_0_params.py
file test_transfer_Fungible_/step_038_cont_0_params.tz
file test_transfer_Fungible_/step_038_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), txs = [sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 0, amount = 13)])])...
Expected error: 'FA2_INSUFFICIENT_BALANCE'
Comment...
 h2: Not defined token
Comment...
 p: TZIP-12: If one of the specified token_ids is not defined within
                the FA2 contract, the entrypoint MUST fail with the error
                mnemonic "FA2_TOKEN_UNDEFINED".
file test_transfer_Fungible_/step_041_cont_0_params.py
file test_transfer_Fungible_/step_041_cont_0_params.tz
file test_transfer_Fungible_/step_041_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), txs = [sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 4, amount = 0)])])...
Expected error: 'FA2_TOKEN_UNDEFINED'
file test_transfer_Fungible_/step_042_cont_0_params.py
file test_transfer_Fungible_/step_042_cont_0_params.tz
file test_transfer_Fungible_/step_042_cont_0_params.json
Executing transfer([sp.record(from_ = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), txs = [sp.record(to_ = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), token_id = 4, amount = 1)])])...
Expected error: 'FA2_TOKEN_UNDEFINED'
